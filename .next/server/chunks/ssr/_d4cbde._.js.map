{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/account/page.tsx"],"sourcesContent":["// \"use client\";\r\n// import { useState, useRef, useEffect } from \"react\";\r\n// import { useLoginClient } from \"../context/regester/login_context\";\r\n// import {\r\n//   FaUserCircle,\r\n//   FaBell,\r\n//   FaLock,\r\n//   FaWallet,\r\n//   FaUser,\r\n//   FaQuestionCircle,\r\n// } from \"react-icons/fa\";\r\n// import Image from \"next/image\";\r\n// import Navbar from \"../components/Nav/page\";\r\n\r\n// export default function Account() {\r\n//   const { saveData, updateProfilePictureUrl } = useLoginClient();\r\n//   const [profileImage, setProfileImage] = useState(null);\r\n//   const [selectedFile, setSelectedFile] = useState(null);\r\n//   const [uploadStatus, setUploadStatus] = useState(null);\r\n//   const [uploadErrorMessage, setUploadErrorMessage] = useState(\"\");\r\n//   const fileInputRef = useRef(null);\r\n\r\n//   const handleUploadClick = () => {\r\n//     fileInputRef.current.click();\r\n//   };\r\n\r\n//   const handleImageChange = (e) => {\r\n//     const file = e.target.files[0];\r\n//     if (file) {\r\n//       setSelectedFile(file);\r\n//       const previewUrl = URL.createObjectURL(file);\r\n//       setProfileImage(previewUrl);\r\n//       setUploadStatus(null);\r\n//       setUploadErrorMessage(\"\");\r\n//     }\r\n//   };\r\n\r\n//   const uploadProfilePictureToServer = async () => {\r\n//     if (!selectedFile) return;\r\n\r\n//     try {\r\n//       const formData = new FormData();\r\n//       formData.append(\"newProfilePicture\", selectedFile);\r\n\r\n//       const token = localStorage.getItem(\"token\");\r\n//       if (!token) {\r\n//         setUploadStatus(\"error\");\r\n//         setUploadErrorMessage(\"Token غير موجود. يرجى تسجيل الدخول مجددًا.\");\r\n//         return;\r\n//       }\r\n\r\n//       const res = await fetch(\r\n//         \"https://projectapi-ekhpcndsdgbahqhm.canadacentral-01.azurewebsites.net/api/Account/update-profile-picture\",\r\n//         {\r\n//           method: \"PUT\",\r\n//           headers: {\r\n//             Authorization: `Bearer ${token}`,\r\n//           },\r\n//           body: formData,\r\n//         }\r\n//       );\r\n\r\n//       const result = await res.json().catch(() => ({}));\r\n//       console.log(\"Response status:\", res.status);\r\n//       console.log(\"Response body:\", result);\r\n\r\n//       if (res.ok) {\r\n//         setUploadStatus(\"success\");\r\n//         setUploadErrorMessage(\"\");\r\n\r\n//         const updatedUrl = result?.profilePictureUrl;\r\n//         if (updatedUrl) {\r\n//           // تحديث localStorage يدويًا\r\n//           const oldData = JSON.parse(localStorage.getItem(\"userData\"));\r\n//           const updatedUserData = { ...oldData, profilePictureUrl: updatedUrl };\r\n//           localStorage.setItem(\"userData\", JSON.stringify(updatedUserData));\r\n\r\n//           // تحديث الـ context من جديد\r\n//           updateProfilePictureUrl(updatedUrl);\r\n//         }\r\n\r\n//         // Reset الملف\r\n//         setSelectedFile(null);\r\n//         } else {\r\n//                 setUploadStatus(\"error\");\r\n//                 setUploadErrorMessage(result?.message || \"فشل رفع الصورة.\");\r\n//               }\r\n//             } catch (err) {\r\n//               console.error(\"Upload failed:\", err);\r\n//               setUploadStatus(\"error\");\r\n//               setUploadErrorMessage(\"حدث خطأ أثناء الاتصال بالخادم.\");\r\n//             }\r\n//           };\r\n\r\n//   useEffect(() => {\r\n//     if (saveData?.profilePictureUrl) {\r\n//       setProfileImage(saveData.profilePictureUrl);\r\n//     }\r\n//   } , [saveData?.profilePictureUrl]);\r\n\r\n\r\n//   useEffect(() => {\r\n//     return () => {\r\n//       if (profileImage?.startsWith(\"blob:\")) {\r\n//         URL.revokeObjectURL(profileImage);\r\n//       }\r\n//     };\r\n//   }, [profileImage]);\r\n\r\n//   if (!saveData) {\r\n//     return (\r\n//       <div className=\"min-h-screen bg-gray-100 text-gray-800\">\r\n//         <Navbar />\r\n//         <p className=\"p-4\">Loading...</p>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-gray-100 text-gray-800\">\r\n//       <Navbar />\r\n//       <div className=\"flex p-4 gap-6\">\r\n//         {/* Left - Profile Card */}\r\n//         <div className=\"bg-white rounded-lg shadow w-1/4 text-center py-6 px-4\">\r\n//           {profileImage ? (\r\n//             <Image\r\n//               width={112}\r\n//               height={112}\r\n//               src={profileImage}\r\n//               alt=\"Profile\"\r\n//               className=\"w-28 h-28 mx-auto rounded-full object-cover\"\r\n//             />\r\n//           ) : (\r\n//             <FaUserCircle className=\"text-gray-400 mx-auto text-7xl\" />\r\n//           )}\r\n//           <h2 className=\"text-lg font-semibold mt-4\">\r\n//             {saveData.displayName}\r\n//           </h2>\r\n//           <p className=\"text-sm text-gray-500 mb-4\">{saveData.email}</p>\r\n//           <input\r\n//             type=\"file\"\r\n//             accept=\"image/*\"\r\n//             ref={fileInputRef}\r\n//             onChange={handleImageChange}\r\n//             className=\"hidden\"\r\n//           />\r\n//           <button\r\n//             onClick={handleUploadClick}\r\n//             className=\"border border-gray-300 px-4 py-2 text-sm rounded-md\"\r\n//           >\r\n//             Upload photo\r\n//           </button>\r\n\r\n//           {selectedFile && (\r\n//             <div className=\"mt-3 space-y-2\">\r\n//               <button\r\n//                 onClick={uploadProfilePictureToServer}\r\n//                 className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n//               >\r\n//                 حفظ الصورة\r\n//               </button>\r\n//               {uploadStatus === \"success\" && (\r\n//                 <p className=\"text-green-600 text-sm\">\r\n//                   ✅ تم حفظ الصورة بنجاح\r\n//                 </p>\r\n//               )}\r\n//               {uploadStatus === \"error\" && (\r\n//                 <p className=\"text-red-600 text-sm\">❌ {uploadErrorMessage}</p>\r\n//               )}\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n\r\n//         {/* Right - Info Boxes */}\r\n//         <div className=\"flex-1 space-y-4\">\r\n//           <InfoBox\r\n//             icon={<FaUser />}\r\n//             title=\"My profile\"\r\n//             desc=\"Edit your profile picture, name, email, phone number, and Location\"\r\n//             onClick={() => (window.location.href = \"/updateaccount\")}\r\n//           />\r\n//           <InfoBox\r\n//             icon={<FaWallet />}\r\n//             title=\"Safe\"\r\n//             desc=\"Top up your account, check your balance, and manage your payment preferences.\"\r\n//           />\r\n//           <InfoBox\r\n//             icon={<FaLock />}\r\n//             title=\"Change password\"\r\n//             desc=\"Update and manage your password.\"\r\n//           />\r\n//           <InfoBox\r\n//             icon={<FaBell />}\r\n//             title=\"Notifications\"\r\n//             desc=\"Choose notification preferences and how you want to be contacted\"\r\n//           />\r\n//           <InfoBox icon={<FaQuestionCircle />} title=\"Help\" desc=\"Need help?\" />\r\n//         </div>\r\n//       </div>\r\n\r\n//       <footer className=\"text-sm text-gray-500 text-center py-6 border-t\">\r\n//         2025 Lilason, Inc. –{\" \"}\r\n//         <a href=\"#\" className=\"underline\">\r\n//           Terms of Use\r\n//         </a>{\" \"}\r\n//         –{\" \"}\r\n//         <a href=\"#\" className=\"underline\">\r\n//           Privacy Policy\r\n//         </a>{\" \"}\r\n//         –{\" \"}\r\n//         <a href=\"#\" className=\"underline\">\r\n//           Accessibility\r\n//         </a>{\" \"}\r\n//         –{\" \"}\r\n//         <a href=\"#\" className=\"underline\">\r\n//           Service Code\r\n//         </a>\r\n//       </footer>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// function InfoBox({ icon, title, desc, onClick }) {\r\n//   return (\r\n//     <div\r\n//       onClick={onClick}\r\n//       className=\"bg-white p-4 rounded shadow cursor-pointer hover:bg-gray-50\"\r\n//     >\r\n//       <div className=\"flex justify-between items-start gap-2\">\r\n//         <div className=\"flex items-start gap-2\">\r\n//           <div className=\"text-xl text-green-600\">{icon}</div>\r\n//           <div>\r\n//             <h3 className=\"font-semibold\">{title}</h3>\r\n//             <p className=\"text-sm text-gray-600\">{desc}</p>\r\n//           </div>\r\n//         </div>\r\n//         <span className=\"text-2xl text-gray-400\">›</span>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/node_modules/next/dist/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\nimport { RouteKind } from '../../server/route-kind'\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\ndeclare const pages: any\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n// INJECT:pages\n\nexport { tree, pages }\n\nexport { default as GlobalError } from 'VAR_MODULE_GLOBAL_ERROR'\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: any\ndeclare const __next_app_load_chunk__: any\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nexport * from '../../server/app-render/entry-base'\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n})\n"],"names":["AppPageRouteModule","RouteKind","tree","pages","default","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree"],"mappings":";;;;;;AA0BA,8BAA8B;AAzB9B,SAASA,kBAAkB,QAAQ,2DAA2D;IAAE,wBAAwB;AAAW,EAAC;AAYpI,yEAAyE;AAEzE,cAAc;AAGd,SAASE,IAAI,EAAEC,KAAK,GAAE;AAWtB,OAAO,MAAMG,eAAe;AAG5B,EAAC;;;;;;;;;;AAED,cAAc,qCAAoC,sBAAA;AAElD,UAAA,kDAA4D;AAC5D,MAAA,CAAO,MAAMK;IAAAA;IAAAA,SAAc,IAAIX,mBAAmB;YAChDY,QAAAA;YAAAA,GAAY;YAAA;wBACVC,IAAAA;oBAAAA,CAAMZ,UAAUa;oBAAAA,OAAQ;yBACxBC,MAAM;8BACNC,IAAAA,CAAAA,GAAU;wBAAA,QAAA;4BAAA,IAAA;4BAAA;yBAAA;;uBACV,2CAA2C;;iBAC3CC,YAAY;sBACZC,IAAAA,CAAAA;YAAAA,CAAU;SAAA;;SACVC,UAAU,EAAE;UACd,QAAA;YAAA,MAAA;gBACAC,OAAU,QAAA;wBAAA;4BACRC,KAAAA,CAAAA,GAAAA,IAAYnB,uKAAZmB,CAAAA,sBAAYnB,EAAAA,MAAAA,MAAAA,MAAAA,EAAAA,iBAAAA,CAAAA,CAAAA,EAAAA,mSAAAA,CAAAA,UAAAA,CAAAA,GAAAA,CAAAA,KAAAA,CAAAA,KAAAA,MAAAA,CAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA;4BACd,OAAA,GAAA,mSAAA,CAAA,UAAA,CAAA,KAAA,CAAA,CAAA,EAAA,mSAAA,CAAA,UAAA,CAAA,MAAA,EAAA;4BACA,MAAA,CAAA,YAAA,CAAA","ignoreList":[0]}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}